<div class="container">
  <div class="search-bar">
    <input
      type="text"
      [(ngModel)]="inputValue"
      placeholder="Buscar por c贸digo o nombre"
    />
    <div class="search-options">
      <label>
        <input type="checkbox" [(ngModel)]="codigoChecked" /> C贸digo
      </label>
      <label>
        <input type="checkbox" [(ngModel)]="determinacionChecked" />
        Determinacion
      </label>
    </div>
    <button (click)="search()">Agregar</button>
  </div>
</div>
<div class="ub-input" *ngIf="!ubValueFixed">
  <input
    type="number"
    [(ngModel)]="ubValue"
    placeholder="Valor de U.B"
  />
  <button (click)="fixUbValue()">Fijar</button>
</div>
<div class="ub-fixed" *ngIf="ubValueFixed">
  <p>Valor Actual de Unidad Base: {{ ubValue }}</p>
  <button (click)="modifyUbValue()">Modificar</button>
</div>
<div class="results">
  <table>
    <thead>
      <tr>
        <th>C贸digo</th>
        <th>Determinaci贸n</th>
        <th>U.B</th>
        <th>Valor</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of resultados; trackBy: trackByCodigo">
        <td>{{ data.codigo }}</td>
        <td>{{ data.determinacion }}</td>
        <td>{{ data.unidadBase }}</td>
        <td>{{ data.valorCalculado === null ? 'No disponible' : data.valorCalculado }}</td>
        <td>
          <button (click)="eliminar(data.codigo)">Eliminar</button>
        </td>
      </tr>
      <tr>
        <td><strong>Resultados</strong></td>
        <td></td>
        <td><strong>{{ sumUbValues }}</strong></td>
        <td><strong>{{ sumValorValues }}</strong></td>
      </tr>
    </tbody>
  </table>
  <button (click)="guardar()">Guardar</button>
</div>
